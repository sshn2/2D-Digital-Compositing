# WEEK 10
## Tracking
Tracking이란 프레임에서 프레임으로 픽셀 그룹을 따라가며 각 프레임에서 해당 위치를 수집하는 것을 의미한다. 트래킹을 사용하면 프레임에서 프레임으로 얼마나 많은 움직임이 발생하는지 측정할 수 있다. 이 움직임 정보를 사용하여 움직임을 무효화(안정화)하여 해당 움직임을 취소하거나 해당 움직임을 일치 이동이라고 하는 다른 요소로 전송할 수 있다. Nuke에서 추적하는 방법은 Tracker 노드를 통해 이루어진다.

![image](https://user-images.githubusercontent.com/112941366/210296211-a3ca618a-2669-43d7-a448-1fe679def935.png)

1. add tracker 노드 추가 후 생기는 네모난 영역 안에 트래킹 할 이미지 올려놓기.
2. Tracking anchor를 트래킹 할 픽셀 중에 컨트라스트가 강한 부분이나 가운데를 잡는다.(보편적으로 가운데를 사용한다.)
3. 트래킹 마커에 보이는 두 개의 네모 중에서 pattern box 안에는 들어갈 오브젝트를 지정해서 따라가라고 명령하는 것이고 search area box는 범위를 지정해서 트래킹이 잘 이루어지도록 돕는다. (색 대비가 클수록 잘 따라간다.)
4. 카메라가 항상 정속으로 움직이기 않기에 frame by frame으로 지나갔을 때, 처음에 지정했던 모양이 안쪽에 있을 수 있다라고 bounding 해준다.

![image](https://user-images.githubusercontent.com/112941366/210295811-b84bac14-be2a-4e48-809a-cbcb60a8f93e.png)

트래킹을 할 때, viewer에서는 트래킹 작업을 볼 수 없다. 따라서 reference frame을 보고 영역이 업데이트 되는 것을 봐야한다. 위에 있는 버튼으로 진행을 시킬 수 있다.
트래킹을 시작하는 것도 버튼 중에서 >> 버튼을 눌러 작동할 수 있다.

## 1 point Tracking
이미지의 원근 변화가 거의 또는 전혀 없이 한 기능의 수평(x축) 및 수직(y축) 위치를 추적한다. 이 정보를 적용하여 합성의 다른 요소를 이동하거나 이미지를 안정화하기 위해 반전을 적용할 수 있다.
단일 지점 추적에서 동작 추적 소프트웨어는 클립의 단일 지점에 초점을 맞추고 해당 단일 지점 주변의 카메라 움직임을 추적한다.

ex) 이 형태의 추적은 카메라가 천천히 지나가는 테이블 위의 꽃병 샷과 같이 한 방향으로 움직이는 물체에 가장 적합하다.

![image](https://user-images.githubusercontent.com/112941366/210296351-34e60325-bae3-4cc9-ad19-0a68e7851e26.png)

## 2 point Tracking
두 가지 기능에 대한 수평 및 수직 위치를 추적한다. 서로 상대적인 기능 위치는 이미지가 시계 방향으로 회전하는지 또는 시계 반대 방향으로 회전하는지(z축 회전)를 나타낸다. 경우에 따라 기능의 크기 조정을 계산하는 데 두 개의 추적 지점으로도 충분하다. 2점 추적에서는 두 개의 개별 추적점을 이미지에 적용하고 각각을 사용하여 다른 유형의 동작을 추적한다.

ex) 2점 추적은 카메라가 개체 주위를 이동하면서 동시에 개체를 확대하는 인스턴스에서 동작을 추적해야 할 때 가장 잘 사용된다.

![image](https://user-images.githubusercontent.com/112941366/210296396-1231c57f-df19-4b55-8116-ff1ae5bfa8b4.png)


## 3 point Tracking
세 가지 기능에 대한 수평 및 수직 위치를 추적한다. Z-회전 및 크기 조정에 대한 정확도를 높이기 위해 추가 추적 데이터 세트와 함께 2점 추적의 모든 이점을 제공한다. 이미지에서 보시다시피 2점 추적과 동일하게 x, y, z축을 조절할 수 있다. 3점 추적은 거기에 scale값 조정을 더해 이미지에 깊이감을 줄 수 있다.

ex) 나뭇가지 사이에 걸린 거미줄이나 행거처럼 깊이감을 요하는 이미지에 사용된다.

<img width="247" alt="스크린샷 2023-01-03 오후 12 25 36" src="https://user-images.githubusercontent.com/112941366/210296507-6d9e7482-f531-42e2-bbcf-5c071969b8c0.png">


## 4 point Tracking
추적 데이터 세트가 추가되어 더 적은 추적의 모든 이점을 다시 한 번 강조한다. 일반적으로 3점은 대부분의 2D 추적 요구 사항에 충분하지만 다중점을 사용하면 4개의 트랙과 CornerPin2D 노드를 사용하여 다른 요소를 왜곡하고 추적하는 기능의 지점으로 일치 이동시킬 수 있다. "코너 핀 추적" 또는 "관점 추적"이라고도 하는 4점 추적을 사용하면 샷(예: 스마트폰 화면) 전체에서 4점 표면의 각 모서리를 추적할 수 있다.

ex) 4점 추적은 화면 교체와 같은 작업에 사용되는 가장 일반적인 추적 유형이다. 화면 모서리를 식별하고 추적하여 매끄러운 효과를 위해 새 이미지를 삽입할 수 있다.

![image](https://user-images.githubusercontent.com/112941366/210296689-b53cea18-fff6-4477-ae57-150ea4ba4077.png)


---
### 출처

https://www.oreilly.com/library/view/nuke-101-professional/9780132639910/ch05.html

https://learn.foundry.com/nuke/content/tutorials/written_tutorials/tutorial2/1_2_3_4_point_tracks.html

